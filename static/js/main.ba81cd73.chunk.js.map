{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/reducers/dialogs-reducer.js","assets/img/preloader.gif","components/common/Preloader/Preloader.module.css","components/AvatarBtn/AvatarBtn.module.css","serviceWorker.js","components/Sidebar/Friend/Friend.jsx","components/Sidebar/Sidebar.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/reducers/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/reducers/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.js","redux/reducers/app-reducer.js","components/AvatarBtn/AvatarBtn.js","redux/reducers/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/Users/Users.module.css","components/Header/Header.module.css","components/common/FormsControls/FormsControls.js","components/Login/Login.module.css","components/common/Paginator/Paginator.module.css","components/common/Preloader/Preloader.js","utils/validators/validators.js","components/Sidebar/Sidebar.module.css","components/common/FormsControls/FormsControls.module.css","api/api.js","components/hoc/withAuthRedirect.js","redux/reducers/profile-reducer.js"],"names":["module","exports","initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","stateCopy","newMessage","push","Boolean","window","location","hostname","match","Friend","props","src","alt","className","classes","friendAvatar","Sidebar","friendsElement","sidebar","friends","map","f","key","Navbar","store","getState","nav","item","active","to","activeClassName","News","Music","AuthRedirectComponent","withAuthRedirect","updateObjectInArray","items","itemId","objPropName","newObjProps","u","users","pageSize","totalItemsCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPages","rightPortionPages","paginationWrapper","onClick","paginationPrev","page","activePage","e","paginationNext","User","user","unfollow","follow","Users","imageContainer","photos","small","userPhoto","disabled","some","unfollowBtn","followBtn","status","getUsers","createSelector","usersPage","getPageSize","getTotalItemsCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","setCurrentPage","this","React","Component","compose","connect","usersAPI","bind","data","totalCount","Header","header","headerRight","loginBlock","isAuth","login","logout","logoutBtn","loginBtn","SET_USER_DATA","email","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","authAPI","me","response","getCaptchaUrl","securityAPI","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","component","Input","placeholder","validate","requiredField","checkbox","captchaInput","createField","formSummaryError","password","rememberMe","captcha","length","stopSubmit","_error","Login","formData","initialized","appReducer","AvatarBtn","axiosInstance","axios","withCredentials","baseURL","headers","FormData","imagefile","document","querySelector","append","files","post","then","res","console","log","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","initializeApp","addEventListener","removeEventListener","fallback","Preloader","exact","path","render","AppContainer","withRouter","SocialApp","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","textArea","validators","preloader","value","maxLengthCreator","maxLength","instance","get","delete","getProfile","profileAPI","getStatus","updateStatus","put","saveProfile","profile","savePhoto","photoFile","mapStateToPropsForRedirect","RedirectComponent","posts","likesCount","setStatus","addPostActionCreator","newPostBody","getUserProfile","file","Promise","reject","newPost","newPostText","postId"],"mappings":"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","file":"static/js/main.ba81cd73.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__1HCBp\",\"nav\":\"Navbar_nav__EPBRk\",\"item\":\"Navbar_item__11P3F\",\"active\":\"Navbar_active__2MkcR\"};","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nconst initialState = {\r\n\r\n    dialogs: [\r\n      {id: 1, name: 'Dmitriy'},\r\n      {id: 2, name: 'Andrey'},\r\n      {id: 3, name: 'Sveta'},\r\n      {id: 4, name: 'Julia'},\r\n      {id: 5, name: 'Victor'},\r\n      {id: 6, name: 'Anton'},\r\n      {id: 7, name: 'Egor'}\r\n    ],\r\n    messages: [\r\n      {id: 1, message: 'Hi'},\r\n      {id: 2, message: 'How is your lesson?'},\r\n      {id: 3, message: \"Yo! It's Dmitriy. Welcome back man!\"},\r\n      {id: 4, message: 'One more message from props'},\r\n      {id: 5, message: 'Method .map learnt'},\r\n    ],\r\n\r\n};\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\r\n  let stateCopy = {\r\n    ...state,\r\n    messages: [ ...state.messages ]\r\n  };\r\n\r\n\r\n\r\n\r\n  switch (action.type) {\r\n\r\n    case ADD_MESSAGE:\r\n      let newMessage = {\r\n        id: \"0\",\r\n        message: action.newMessageBody,\r\n      };\r\n      stateCopy.messages.push(newMessage);\r\n      return stateCopy;\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n\r\n};\r\n\r\n\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody});\r\n\r\n\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.df277dad.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Preloader_Preloader__1rMWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AvatarBtn\":\"AvatarBtn_AvatarBtn__8cW0L\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\r\nimport classes from \"../Sidebar.module.css\";\r\n\r\nconst Friend = (props) => {\r\n  return (\r\n\r\n    <div>\r\n      <img src=\"http://pm1.narvii.com/6938/eab09ab54f91035b8024d39b172c09ead58a54b5r1-426-604v2_uhq.jpg\" alt=\"\" className={classes.friendAvatar}/>\r\n      <p>{props.name}</p>\r\n    </div>\r\n\r\n\r\n  )\r\n\r\n};\r\n\r\n\r\n\r\nexport default Friend;","import React from 'react'\r\nimport classes from './Sidebar.module.css'\r\nimport Friend from \"./Friend/Friend\";\r\n\r\n\r\n\r\nconst Sidebar = (props) => {\r\n\r\n\r\n\r\n  let friendsElement = props.state.sidebar.friends\r\n    .map( f =>  <Friend key={f.id} name={f.name} /> );\r\n\r\n\r\n  return (\r\n\r\n    <div className={classes.Sidebar}>\r\n\r\n      <h3>Friends</h3>\r\n\r\n      { friendsElement }\r\n\r\n    </div>\r\n\r\n  )\r\n\r\n\r\n};\r\n\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport classes from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\n\r\nconst Navbar = (props) => {\r\n\r\n  let state = props.store.getState();\r\n\r\n  return (\r\n    <div className={classes.Navbar}>\r\n    <nav className={classes.nav}>\r\n\r\n      <div className={`${classes.item} ${classes.active}`}>\r\n        <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n      </div>\r\n       <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/news\" activeClassName={classes.active}>News</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/music\" activeClassName={classes.active}>Music</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/settings\" activeClassName={classes.active}>Settings</NavLink>\r\n      </div>\r\n\r\n    </nav>\r\n\r\n    <Sidebar state={state}/>\r\n\r\n    </div>\r\n\r\n  )\r\n};\r\n\r\nexport default Navbar;","import React from 'react'\r\n\r\n\r\nconst News = (props) => {\r\n  return (\r\n    <div>\r\n      <h1>News Block</h1>\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\n\r\nexport default News;","import React from 'react'\r\n\r\n\r\n\r\nconst Music = (props) => {\r\n  return (\r\n    <div>\r\n      <h1>Music Block</h1>\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\n\r\nexport default Music;","import React from 'react'\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\n\r\n\r\n\r\nconst Settings = (props) => {\r\n  return (\r\n    <div>\r\n      <h1>Settings Block</h1>\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\nlet AuthRedirectComponent = withAuthRedirect(Settings);\r\n\r\n\r\nexport default AuthRedirectComponent;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_ITEMS_COUNT = 'SET_TOTAL_ITEMS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\n// ##### Users State #####\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalItemsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n\r\n};\r\n\r\n\r\n// ##### Reducer #####\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n              users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n              users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n\r\n            };\r\n\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_ITEMS_COUNT: {\r\n            return {...state, totalItemsCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n// ##### Action Creators #####\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalItemsCount = (totalItemsCount) => ({type: SET_TOTAL_ITEMS_COUNT, count: totalItemsCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\n\r\n// ##### Thunk Creators #####\r\n\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await usersAPI.requestUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalItemsCount(data.totalCount));\r\n    }\r\n};\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let data = await apiMethod(userId);\r\n    if (data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n};\r\n\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default usersReducer;","import React, {useState} from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport classes from './Paginator.module.css'\r\n\r\n\r\nconst Paginator = ({currentPage, pageSize, totalItemsCount, onPageChanged, portionSize = 10, ...props}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPages = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPages = portionNumber * portionSize;\r\n\r\n\r\n    return (\r\n        <div className={classes.paginationWrapper}>\r\n            {portionNumber > 1 && <span\r\n                onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}\r\n                className={classes.paginationPrev}\r\n            > prev </span>}\r\n\r\n            {pages\r\n                .filter(page => page >= leftPortionPages && page <= rightPortionPages)\r\n                .map((page) => {\r\n                    return <span\r\n                        className={currentPage === page && classes.activePage}\r\n                        onClick={(e) => {\r\n                            onPageChanged(page)\r\n                        }}>\r\n                {page}\r\n            </span>\r\n                })}\r\n\r\n            {portionCount > portionNumber && <span\r\n                onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}\r\n                className={classes.paginationNext}\r\n            > next </span>}\r\n\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport classes from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow, ...props}) => {\r\n\r\n    return (\r\n        <div className={classes.Users}>\r\n          <span>\r\n            <div>\r\n              <div className={classes.imageContainer}>\r\n                <NavLink to={\"/profile/\" + user.id}>\r\n                  <img src={user.photos.small != null ? user.photos.small : \"https://bit.ly/2OnFLgf\"} alt=\"\"\r\n                       className={classes.userPhoto}/>\r\n                </NavLink>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              {user.followed\r\n                  ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                      unfollow(user.id)\r\n\r\n                  }}\r\n                            className={classes.unfollowBtn}>Unfollow</button>\r\n                  : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                      follow(user.id)\r\n                  }}\r\n                            className={classes.followBtn}>Follow</button>\r\n              }\r\n            </div>\r\n          </span>\r\n            <span>\r\n            <span>\r\n              <div>{user.name}</div>\r\n              <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n                <div>{\"user.location.country\"}</div>\r\n                <div>{\"user.location.city\"}</div>\r\n            </span>\r\n          </span>\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\n\r\nexport default User;","import React from 'react'\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nconst Users = ({currentPage, pageSize, totalItemsCount, onPageChanged, ...props}) => {\r\n    return (\r\n\r\n        <div>\r\n            <Paginator currentPage={currentPage}\r\n                       pageSize={pageSize}\r\n                       totalItemsCount={totalItemsCount}\r\n                       onPageChanged={onPageChanged}\r\n            />\r\n\r\n            {props.users.map((user) => <User key={user.id}\r\n                                             user={user}\r\n                                             followingInProgress={props.followingInProgress}\r\n                                             unfollow={props.unfollow}\r\n                                             follow={props.follow}\r\n            />)\r\n    }\r\n\r\n        </div>)\r\n};\r\n\r\n\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\n\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter(u => true)\r\n});\r\n\r\n\r\n\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n\r\n};\r\n\r\nexport const getTotalItemsCount = (state) => {\r\n  return state.usersPage.totalItemsCount;\r\n\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n\r\n  return state.usersPage.currentPage;\r\n\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\r\n  return state.usersPage.followingInProgress;\r\n\r\n};","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  follow,\r\n  requestUsers,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  unfollow\r\n} from \"../../redux/reducers/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalItemsCount,\r\n  getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n\r\n\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.requestUsers(pageNumber, this.props.pageSize);\r\n    this.props.setCurrentPage(pageNumber)\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <>\r\n        {/*{this.props.isFetching ? <Preloader /> : null}*/}\r\n        <Users\r\n          totalItemsCount={this.props.totalItemsCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          users={this.props.users}\r\n          unfollow={this.props.unfollow}\r\n          follow={this.props.follow}\r\n          onPageChanged={this.onPageChanged}\r\n          toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalItemsCount: getTotalItemsCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,{follow, unfollow, toggleFollowingProgress, requestUsers, setCurrentPage}),\r\n  //withAuthReirect\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport classes from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n  return (\r\n  <header className={classes.header}>\r\n    <img src=\"https://thumbs.gfycat.com/ShowyActiveAppaloosa-max-1mb.gif\" alt=\"\"/>\r\n\r\n    <div className={classes.headerRight}>\r\n\r\n    <div className={classes.loginBlock}>\r\n\r\n      {props.isAuth\r\n      ? <div>{props.login} <button onClick={props.logout} className={classes.logoutBtn}>Logout</button></div>\r\n      : <NavLink to={'/login'} className={classes.loginBtn}>Login</NavLink>\r\n      }\r\n\r\n\r\n    </div>\r\n\r\n    <p>Hall <span>Social Network</span></p>\r\n\r\n    </div>\r\n\r\n  </header>\r\n\r\n  )\r\n};\r\n\r\nexport default Header;","import {authAPI, securityAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'mySocial/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'mySocial/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null // if null, then captcha isn't required\r\n};\r\n\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\n\r\n\r\n// Thunk Creator Get User\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\n\r\n// Thunk Creator Login\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if (response.data.resultCode === 0) {\r\n\r\n        // success, get auth data\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n\r\n\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n\r\n};\r\n\r\n\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/reducers/auth-reducer\";\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n  render() {\r\n  return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from 'react'\r\nimport classes from './Login.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/reducers/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n\r\n            <Field type=\"text\"\r\n                   component={Input}\r\n                   placeholder={\"Email\"}\r\n                   name={\"email\"}\r\n                   validate={[requiredField]}\r\n            />\r\n\r\n            <Field type=\"password\"\r\n                   component={Input}\r\n                   name={\"password\"}\r\n                   placeholder={\"Password\"}\r\n                   validate={[requiredField]}\r\n            />\r\n\r\n            <div>\r\n                <Field type=\"checkbox\" component=\"input\" name={\"rememberMe\"} className={classes.checkbox}/><span>Remember Me</span>\r\n            </div>\r\n\r\n\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && <div className={classes.captchaInput}>{createField('Symbols from image', \"captcha\", [requiredField], Input, {})}</div>}\r\n            {error && <div className={classes.formSummaryError}>{error}</div>}\r\n\r\n            <button>Login</button>\r\n\r\n        </form>\r\n\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n        <div className={classes.Login}>\r\n            <h3>Login:</h3>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n\r\n};\r\n\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n\r\n// Thunk Creator Get User\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess());\r\n  })\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default appReducer;","import React from 'react'\r\nimport * as axios from \"axios\";\r\nimport classes from './AvatarBtn.module.css'\r\n\r\n\r\nconst AvatarBtn = (props) => {\r\n\r\n\r\n  let axiosInstance = axios.create({\r\n\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: { \"API-KEY\": \"36abc680-c5c2-41f9-847f-9f1470d8bfa5\"}\r\n\r\n\r\n  });\r\n\r\n\r\n  function uploadPhoto() {\r\n    let formData = new FormData();\r\n    let imagefile = document.querySelector(\"#photo\");\r\n    formData.append(\"image\", imagefile.files[0]);\r\n    axiosInstance.post('profile/photo', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then(res => console.log(res.data))\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={classes.AvatarBtn}>\r\n      <input type=\"file\" id={\"photo\"}/>\r\n      <button onClick={uploadPhoto}>Upload</button>\r\n    </div>\r\n\r\n   );\r\n\r\n};\r\n\r\n\r\n\r\nexport default AvatarBtn;\r\n\r\n","\r\nconst initialState = {\r\n\r\n    friends: [\r\n      {id: 1, name: 'Dmitriy'},\r\n      {id: 2, name: 'Sergey'},\r\n      {id: 3, name: 'Anton'},\r\n    ]\r\n\r\n};\r\n\r\n\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n  return state;\r\n\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducers/profile-reducer\";\r\nimport dialogsReducer from \"./reducers/dialogs-reducer\";\r\nimport sidebarReducer from \"./reducers/sidebar-reducer\";\r\nimport usersReducer from \"./reducers/users-reducer\";\r\nimport authReducer from \"./reducers/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./reducers/app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n\r\n\r\nexport default store;\r\n","import React, {Component, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {HashRouter, BrowserRouter, Route, withRouter, Redirect} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/reducers/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport AvatarBtn from \"./components/AvatarBtn/AvatarBtn\";\nimport store from \"./redux/redux-store\";\nimport Switch from \"react-bootstrap/cjs/Switch\";\n\n\nconst DialogsContainer = React.lazy(() => import(`./components/Dialogs/DialogsContainer`));\nconst ProfileContainer = React.lazy(() => import(`./components/Profile/ProfileContainer`));\n\n\nclass App extends Component {\n\n    catchAllUnhandledErrors = (promiseRejectionEvent) => {\n        alert(\"Some Error Occured\");\n        console.error(promiseRejectionEvent)\n\n    };\n\n\n    componentDidMount() {\n        this.props.initializeApp();\n\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n\n    render() {\n\n        if (!this.props.initialized) {\n            return (<Preloader/>)\n        }\n\n        return (\n\n            <div className=\"app-wrapper\">\n\n                <Suspense fallback={<Preloader/>}>\n\n                    <HeaderContainer/>\n                    <Navbar store={this.props.store}/>\n                    <div className=\"app-wrapper-content\">\n\n\n                            <Route exact path=\"/\">\n                                <Redirect to=\"/profile\"/>\n                            </Route>\n\n                            <Route path=\"/profile/:userId?\"\n                                   render={() => <ProfileContainer store={this.props.store}/>}/>\n                            <Route path=\"/dialogs\"\n                                   render={() => <DialogsContainer store={this.props.store}/>}/>\n                            <Route path=\"/news\"\n                                   render={() => <News/>}/>\n                            <Route path=\"/music\"\n                                   render={() => <Music/>}/>\n                            <Route path=\"/settings\"\n                                   render={() => <Settings/>}/>\n                            <Route path=\"/users\"\n                                   render={() => <UsersContainer/>}/>\n                            <Route path=\"/login\"\n                                   render={() => <Login/>}/>\n                            <Route path=\"/avatarbtn\"\n                                   render={() => <AvatarBtn/>}/>\n\n\n                    </div>\n                </Suspense>\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\n// basename={process.env.PUBLIC_URL}\n\nconst SocialApp = (props) => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <AppContainer store={store}/>\n        </Provider>\n    </BrowserRouter>\n\n};\n\nexport default SocialApp;","import React from 'react';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from \"./App\";\n\n\n\nReactDOM.render(<SocialApp />, document.getElementById('root'));\n\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"Users_Users__2Q5Wa\",\"imageContainer\":\"Users_imageContainer__WAhfR\",\"userPhoto\":\"Users_userPhoto__1fp48\",\"unfollowBtn\":\"Users_unfollowBtn__ro_6T\",\"followBtn\":\"Users_followBtn__27VmK\",\"getUsersBtn\":\"Users_getUsersBtn__3eTbD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2pir8\",\"headerRight\":\"Header_headerRight__2ZcOU\",\"loginBlock\":\"Header_loginBlock__1tefD\",\"loginBtn\":\"Header_loginBtn__Qg2Ex\",\"logoutBtn\":\"Header_logoutBtn__3K5Mb\"};","import React from 'react'\r\nimport classes from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={`${classes.formControl} ${hasError && classes.error}`}>\r\n\r\n                {children}\r\n                {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n\r\n\r\n    )\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} className={classes.textArea}/></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {} ) => (\r\n    <Field type=\"text\" placeholder={placeholder} name={name} validate={validators} component={component} {...props}\r\n    />\r\n);\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__25OT4\",\"checkbox\":\"Login_checkbox__56SSO\",\"formSummaryError\":\"Login_formSummaryError__2ruqK\",\"captchaInput\":\"Login_captchaInput__LKGt9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationWrapper\":\"Paginator_paginationWrapper__3xVe8\",\"activePage\":\"Paginator_activePage__2PV01\",\"paginationPrev\":\"Paginator_paginationPrev__3kGG2\",\"paginationNext\":\"Paginator_paginationNext__3nC0e\"};","import React from 'react'\r\nimport preloader from \"../../../assets/img/preloader.gif\";\r\nimport classes from \"./Preloader.module.css\"\r\n\r\nconst Preloader = (props) => {\r\n\r\n  return <div className={classes.Preloader}>\r\n          <img src={preloader} />\r\n         </div>\r\n};\r\n\r\n\r\nexport default Preloader;","export const requiredField = (value) => {\r\n  if (value) return undefined;\r\n  return  \"Field is required\";\r\n\r\n};\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength ) return `Max Length is ${maxLength} Symbols`;\r\n  return undefined;\r\n\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sidebar\":\"Sidebar_Sidebar__8_5yG\",\"friendAvatar\":\"Sidebar_friendAvatar__3GqDc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3W-sp\",\"textArea\":\"FormsControls_textArea__1Q8Lp\",\"error\":\"FormsControls_error__13yKY\"};","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\"API-KEY\": \"36abc680-c5c2-41f9-847f-9f1470d8bfa5\"}\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    requestUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow(userId = 1) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    getProfile(userId) {\r\n        // console.warn(\"Obsolete method. Please use profile API Object\");\r\n\r\n        return profileAPI.getProfile(userId);\r\n\r\n    },\r\n\r\n};\r\n\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId) {\r\n\r\n        return instance.get(\"profile/\" + userId);\r\n\r\n    },\r\n\r\n    getStatus(userId) {\r\n\r\n        return instance.get(\"profile/status/\" + userId);\r\n\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(\"profile/status\", {status: status});\r\n    },\r\n\r\n\r\n    saveProfile(profile) {\r\n        return instance.put(\"profile\", profile);\r\n    },\r\n\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n\r\n\r\n        return instance.put(\"profile/photo\", formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n};\r\n\r\n\r\nexport const authAPI = {\r\n\r\n    me() {\r\n        return instance.get(\"auth/me\");\r\n\r\n    },\r\n\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(\"auth/login\", {email, password, rememberMe, captcha});\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete(\"auth/login\");\r\n\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(\"security/get-captcha-url\");\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n      return <Component {...this.props} />\r\n\r\n    }\r\n  }\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\r\n  return ConnectedAuthRedirectComponent\r\n\r\n};","import {profileAPI, usersAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n\r\n    posts: [\r\n        {likesCount: 15, message: 'Hi, How are you?', id: \"1\"},\r\n        {likesCount: 23, message: \"It's my first post\", id: \"2\"},\r\n        {likesCount: 56, message: \"The post in my social network\", id: \"3\"},\r\n\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\r\n    let stateCopy = {\r\n        ...state,\r\n        posts: [...state.posts]\r\n    };\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                likesCount: 0,\r\n                id: \"0\",\r\n                message: action.newPostBody,\r\n            };\r\n            stateCopy.posts.push(newPost);\r\n            stateCopy.newPostText = \"\";\r\n            return stateCopy;\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter((post) => post.id != action.postId)};\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile};\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return { ...state, profile: {...state.profile, photos: action.photos}}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const addPostActionCreator = (newPostBody) => ({type: ADD_POST, newPostBody});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n\r\n        dispatch(stopSubmit('edit-profile', {_error: message}))\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n\r\n};\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}