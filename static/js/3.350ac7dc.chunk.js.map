{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPost/MyPosts.module.css","components/Profile/MyPost/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPost/Post/Post.jsx","components/Profile/MyPost/MyPosts.jsx","components/Profile/MyPost/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","className","classes","statusBar","onClick","statusBarText","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileInfo","profile","imageWrap","src","photos","large","alt","profileImage","changeAvatarBtn","AvatarBtn","descriptionBlock","avatarImage","descriptionWrapper","fullName","lastVisit","aboutMe","Preloader","Post","item","postText","message","likesInfo","likesCount","maxLengthCreator10","maxLengthCreator","MyPostsFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","requiredField","btn","MyPosts","console","log","postsElements","posts","map","p","postsBlock","values","onAddPost","newPostBody","MyPostsContainer","connect","state","newPostText","profilePage","dispatch","addPostActionCreator","Profile","store","ProfileContainer","userId","this","match","params","authorizedUserId","getUserProfile","getStatus","React","Component","compose","auth","isAuth","withRouter","withAuthReirect"],"mappings":"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","file":"static/js/3.350ac7dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageWrap\":\"ProfileInfo_imageWrap__3UCRl\",\"profileImage\":\"ProfileInfo_profileImage__2wQqt\",\"changeAvatarBtn\":\"ProfileInfo_changeAvatarBtn__2q-cy\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2RbFL\",\"avatarImage\":\"ProfileInfo_avatarImage__3IinB\",\"descriptionWrapper\":\"ProfileInfo_descriptionWrapper__Pofs6\",\"lastVisit\":\"ProfileInfo_lastVisit__ZaA3e\",\"statusBar\":\"ProfileInfo_statusBar__2g9OO\",\"statusBarText\":\"ProfileInfo_statusBarText__15T3i\",\"statusBarInput\":\"ProfileInfo_statusBarInput__2nj2N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__FqfTZ\",\"posts\":\"MyPosts_posts__2bmxW\",\"btn\":\"MyPosts_btn__2XhDj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3jAvQ\",\"postText\":\"Post_postText__3eIQ_\",\"likesInfo\":\"Post_likesInfo__gZVJr\"};","import React, {useState, useEffect} from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\n\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect( () => {\r\n    setStatus(props.status)}, [props.status] );\r\n\r\n\r\n\r\n  const activateEditMode = () => setEditMode(!editMode);\r\n  const deativateEditMode = () => {\r\n    setEditMode(!editMode);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      { !editMode &&\r\n      <div className={classes.statusBar}>\r\n        <span onClick={activateEditMode} className={classes.statusBarText}>{props.status || \"No status\"}</span>\r\n      </div>\r\n      }\r\n      {editMode &&\r\n      <div className={classes.statusBar}>\r\n        <input  onChange={onStatusChange}\r\n                onBlur={deativateEditMode}\r\n                autoFocus={true}\r\n                value={status}\r\n\r\n        />\r\n      </div>\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport AvatarBtn from \"../../AvatarBtn/AvatarBtn\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <div>\r\n      <div className={classes.imageWrap}>\r\n        <img src={props.profile.photos.large} alt=\"\" className={classes.profileImage}/>\r\n        <div className={classes.changeAvatarBtn}>\r\n          <AvatarBtn />\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n      <div className={classes.descriptionBlock}>\r\n\r\n        <img src={props.profile.photos.large} alt=\"\" className={classes.avatarImage}/>\r\n\r\n\r\n        <div className={classes.descriptionWrapper}>\r\n          <h3>{props.profile.fullName}</h3>\r\n          <ProfileStatusWithHooks status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n\r\n          />\r\n          <p className={classes.lastVisit}>{props.profile.aboutMe}</p>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\r\n  return (\r\n<div>\r\n    <div className={classes.item}>\r\n\r\n      <img src=\"https://bit.ly/2OnFLgf\" alt=\"\"/>\r\n      <p className={classes.postText}>{props.message}</p>\r\n\r\n      <div className={classes.likesInfo}>\r\n        <p><span>{props.likesCount}</span> Like</p>\r\n      </div>\r\n    </div>\r\n</div>\r\n  )\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport classes from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\n\r\n\r\n\r\n\r\nconst MyPosts = props => {\r\n\r\n  console.log(\"RENDER\");\r\n\r\n\r\n  let postsElements = props.posts\r\n    .map(p => <Post message={p.message} likesCount={p.likesCount}/>);\r\n\r\n  let onAddPost = (values) => {\r\n    props.onAddPost(values.newPostBody);\r\n\r\n  };\r\n\r\n  return (\r\n    <div className={classes.postsBlock}>\r\n      <div>\r\n        <h3>My Posts</h3>\r\n        <MyPostsFormRedux onSubmit={onAddPost}/>\r\n      </div>\r\n\r\n      <div className={classes.posts}>\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nconst maxLengthCreator10 = maxLengthCreator(10);\r\n\r\nconst MyPostsForm = (props) => {\r\n\r\n  return (\r\n\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field component={Textarea}\r\n             name=\"newPostBody\"\r\n             placeholder=\"Enter your post...\"\r\n             validate={[requiredField, maxLengthCreator10]}\r\n      />\r\n      <button className={classes.btn}>Add Post</button>\r\n    </form>\r\n\r\n  )\r\n};\r\n\r\n\r\nconst MyPostsFormRedux = reduxForm({form: \"postAddMessageForm\"})(MyPostsForm);\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../redux/reducers/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n\r\n  return {\r\n    newPostText: state.profilePage.newPostText,\r\n    posts: state.profilePage.posts\r\n\r\n  }\r\n};\r\n\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\r\n  return {\r\n    onAddPost: (newPostBody) => { dispatch(addPostActionCreator(newPostBody)) },\r\n\r\n  }\r\n};\r\n\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPost/MyPostsContainer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={props.profile}\r\n                   status={props.status}\r\n                   updateStatus={props.updateStatus}\r\n      />\r\n\r\n      <MyPostsContainer store={props.store} />\r\n\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/reducers/profile-reducer\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {withAuthReirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n\r\n    if(!userId) {\r\n\r\n      userId =  this.props.authorizedUserId;\r\n\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId)\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    return <Profile {...this.props}\r\n                    profile={this.props.profile}\r\n                    status={this.props.status}\r\n                    updateStatus={this.props.updateStatus}\r\n      />\r\n     }\r\n    }\r\n\r\n    let mapStateToProps = (state) => ({\r\n\r\n      profile: state.profilePage.profile,\r\n      status: state.profilePage.status,\r\n      authorizedUserId: state.auth.userId,\r\n      isAuth: state.auth.isAuth\r\n\r\n    });\r\n\r\n\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,{getUserProfile, getStatus, updateStatus}),\r\n  withRouter,\r\n  withAuthReirect\r\n)(ProfileContainer);\r\n\r\n"],"sourceRoot":""}