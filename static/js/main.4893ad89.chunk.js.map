{"version":3,"sources":["components/Navbar/Navbar.module.css","components/AvatarBtn/AvatarBtn.js","redux/reducers/dialogs-reducer.js","assets/img/preloader.gif","components/common/Preloader/Preloader.module.css","components/AvatarBtn/AvatarBtn.module.css","api/api.js","serviceWorker.js","components/Sidebar/Friend/Friend.jsx","components/Sidebar/Sidebar.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/reducers/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/reducers/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.js","redux/reducers/app-reducer.js","redux/reducers/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/Users/Users.module.css","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/common/Preloader/Preloader.js","components/Sidebar/Sidebar.module.css","components/Login/Login.module.css","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","components/hoc/withAuthRedirect.js","redux/reducers/profile-reducer.js"],"names":["module","exports","AvatarBtn","props","axiosInstance","axios","withCredentials","baseURL","headers","className","classes","type","id","onClick","formData","FormData","imagefile","document","querySelector","append","files","post","then","res","console","log","data","initialState","dialogs","name","messages","message","addMessageActionCreator","newMessageBody","dialogsReducer","state","action","stateCopy","newMessage","push","instance","usersAPI","requestUsers","currentPage","pageSize","get","response","unfollow","userId","delete","follow","getProfile","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","Friend","src","alt","friendAvatar","Sidebar","friendsElement","sidebar","friends","map","f","Navbar","store","getState","nav","item","active","to","activeClassName","News","Music","AuthRedirectComponent","withAuthReirect","updateObjectInArray","items","itemId","objPropName","newObjProps","u","users","totalItemsCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPages","rightPortionPages","paginationWrapper","paginationPrev","page","activePage","e","paginationNext","User","user","Users","imageContainer","photos","small","userPhoto","disabled","some","unfollowBtn","followBtn","key","getUsers","createSelector","usersPage","getPageSize","getTotalItemsCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","setCurrentPage","this","React","Component","compose","connect","bind","totalCount","Header","header","headerRight","loginBlock","isAuth","logoutBtn","loginBtn","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","component","Input","placeholder","validate","requiredField","checkbox","formSummaryError","length","stopSubmit","_error","Login","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initializeApp","fallback","Preloader","path","render","AppContainer","withRouter","SocialApp","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","value","maxLengthCreator","maxLength","preloader","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","textArea","mapStateToPropsForRedirect","RedirectComponent","posts","likesCount","profile","setStatus","addPostActionCreator","newPostBody","getUserProfile","newPost","newPostText","postId"],"mappings":"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","file":"static/js/main.4893ad89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__3rbYv\",\"nav\":\"Navbar_nav__3fKyF\",\"item\":\"Navbar_item__24pXX\",\"active\":\"Navbar_active__1Rlva\"};","import React from 'react'\r\nimport * as axios from \"axios\";\r\nimport classes from './AvatarBtn.module.css'\r\n\r\n\r\nconst AvatarBtn = (props) => {\r\n\r\n\r\n  let axiosInstance = axios.create({\r\n\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: { \"API-KEY\": \"36abc680-c5c2-41f9-847f-9f1470d8bfa5\"}\r\n\r\n\r\n  });\r\n\r\n\r\n  function uploadPhoto() {\r\n    let formData = new FormData();\r\n    let imagefile = document.querySelector(\"#photo\");\r\n    formData.append(\"image\", imagefile.files[0]);\r\n    axiosInstance.post('profile/photo', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then(res => console.log(res.data))\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={classes.AvatarBtn}>\r\n      <input type=\"file\" id={\"photo\"}/>\r\n      <button onClick={uploadPhoto}>Upload</button>\r\n    </div>\r\n\r\n   );\r\n\r\n};\r\n\r\n\r\n\r\nexport default AvatarBtn;\r\n\r\n","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nconst initialState = {\r\n\r\n    dialogs: [\r\n      {id: 1, name: 'Dmitriy'},\r\n      {id: 2, name: 'Andrey'},\r\n      {id: 3, name: 'Sveta'},\r\n      {id: 4, name: 'Julia'},\r\n      {id: 5, name: 'Victor'},\r\n      {id: 6, name: 'Anton'},\r\n      {id: 7, name: 'Egor'}\r\n    ],\r\n    messages: [\r\n      {id: 1, message: 'Hi'},\r\n      {id: 2, message: 'How is your lesson?'},\r\n      {id: 3, message: \"Yo! It's Dmitriy. Welcome back man!\"},\r\n      {id: 4, message: 'One more message from props'},\r\n      {id: 5, message: 'Method .map learnt'},\r\n    ],\r\n\r\n};\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\r\n  let stateCopy = {\r\n    ...state,\r\n    messages: [ ...state.messages ]\r\n  };\r\n\r\n\r\n\r\n\r\n  switch (action.type) {\r\n\r\n    case ADD_MESSAGE:\r\n      let newMessage = {\r\n        id: \"0\",\r\n        message: action.newMessageBody,\r\n      };\r\n      stateCopy.messages.push(newMessage);\r\n      return stateCopy;\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n\r\n};\r\n\r\n\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody});\r\n\r\n\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.df277dad.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Preloader_Preloader__3dU_u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AvatarBtn\":\"AvatarBtn_AvatarBtn__eIBE6\"};","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: { \"API-KEY\": \"36abc680-c5c2-41f9-847f-9f1470d8bfa5\"}\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n  requestUsers(currentPage = 1, pageSize = 10)  {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data);\r\n  },\r\n  unfollow(userId = 1) {\r\n    return instance.delete(`follow/${userId}`)\r\n      .then(response => response.data)\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n      .then(response => response.data)\r\n  },\r\n\r\n  getProfile(userId) {\r\n    console.warn(\"Obsolete method. Please use profile API Object\");\r\n\r\n    return profileAPI.getProfile(userId);\r\n\r\n  },\r\n\r\n};\r\n\r\n\r\nexport const profileAPI = {\r\n\r\n  getProfile(userId) {\r\n\r\n    return instance.get(\"profile/\" + userId );\r\n\r\n  },\r\n\r\n  getStatus(userId) {\r\n\r\n    return instance.get(\"profile/status/\" + userId);\r\n\r\n  },\r\n\r\n  updateStatus(status) {\r\n\r\n    return instance.put(\"profile/status\", {status: status} );\r\n\r\n  },\r\n\r\n};\r\n\r\n\r\n\r\nexport const authAPI = {\r\n\r\n  me() {\r\n    return instance.get(\"auth/me\");\r\n\r\n  },\r\n\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(\"auth/login\", {email, password, rememberMe});\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete(\"auth/login\");\r\n\r\n  }\r\n\r\n};\r\n\r\n\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\r\nimport classes from \"../Sidebar.module.css\";\r\n\r\nconst Friend = (props) => {\r\n  return (\r\n\r\n    <div>\r\n      <img src=\"http://pm1.narvii.com/6938/eab09ab54f91035b8024d39b172c09ead58a54b5r1-426-604v2_uhq.jpg\" alt=\"\" className={classes.friendAvatar}/>\r\n      <p>{props.name}</p>\r\n    </div>\r\n\r\n\r\n  )\r\n\r\n};\r\n\r\n\r\n\r\nexport default Friend;","import React from 'react'\r\nimport classes from './Sidebar.module.css'\r\nimport Friend from \"./Friend/Friend\";\r\n\r\n\r\n\r\nconst Sidebar = (props) => {\r\n\r\n\r\n\r\n  let friendsElement = props.state.sidebar.friends\r\n    .map( f =>  <Friend name={f.name} /> );\r\n\r\n\r\n  return (\r\n\r\n    <div className={classes.Sidebar}>\r\n\r\n      <h3>Friends</h3>\r\n\r\n      { friendsElement }\r\n\r\n    </div>\r\n\r\n  )\r\n\r\n\r\n};\r\n\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport classes from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\n\r\nconst Navbar = (props) => {\r\n\r\n  let state = props.store.getState();\r\n\r\n  return (\r\n    <div className={classes.Navbar}>\r\n    <nav className={classes.nav}>\r\n\r\n      <div className={`${classes.item} ${classes.active}`}>\r\n        <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n      </div>\r\n       <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/news\" activeClassName={classes.active}>News</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/music\" activeClassName={classes.active}>Music</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/settings\" activeClassName={classes.active}>Settings</NavLink>\r\n      </div>\r\n\r\n    </nav>\r\n\r\n    <Sidebar state={state}/>\r\n\r\n    </div>\r\n\r\n  )\r\n};\r\n\r\nexport default Navbar;","import React from 'react'\r\n\r\n\r\nconst News = (props) => {\r\n  return (\r\n    <div>\r\n      <h1>News Block</h1>\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\n\r\nexport default News;","import React from 'react'\r\n\r\n\r\n\r\nconst Music = (props) => {\r\n  return (\r\n    <div>\r\n      <h1>Music Block</h1>\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\n\r\nexport default Music;","import React from 'react'\r\nimport {withAuthReirect} from \"../hoc/withAuthRedirect\";\r\n\r\n\r\n\r\nconst Settings = (props) => {\r\n  return (\r\n    <div>\r\n      <h1>Settings Block</h1>\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\nlet AuthRedirectComponent = withAuthReirect(Settings);\r\n\r\n\r\nexport default AuthRedirectComponent;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_ITEMS_COUNT = 'SET_TOTAL_ITEMS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\n// ##### Users State #####\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalItemsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n\r\n};\r\n\r\n\r\n// ##### Reducer #####\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n              users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n              users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n\r\n            };\r\n\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_ITEMS_COUNT: {\r\n            return {...state, totalItemsCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n// ##### Action Creators #####\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalItemsCount = (totalItemsCount) => ({type: SET_TOTAL_ITEMS_COUNT, count: totalItemsCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\n\r\n// ##### Thunk Creators #####\r\n\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await usersAPI.requestUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalItemsCount(data.totalCount));\r\n    }\r\n};\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let data = await apiMethod(userId);\r\n    if (data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n};\r\n\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default usersReducer;","import React, {useState} from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport classes from './Paginator.module.css'\r\n\r\n\r\nconst Paginator = ({currentPage, pageSize, totalItemsCount, onPageChanged, portionSize = 10, ...props}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPages = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPages = portionNumber * portionSize;\r\n\r\n\r\n    return (\r\n        <div className={classes.paginationWrapper}>\r\n            {portionNumber > 1 && <span\r\n                onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}\r\n                className={classes.paginationPrev}\r\n            > prev </span>}\r\n\r\n            {pages\r\n                .filter(page => page >= leftPortionPages && page <= rightPortionPages)\r\n                .map((page) => {\r\n                    return <span\r\n                        className={currentPage === page && classes.activePage}\r\n                        onClick={(e) => {\r\n                            onPageChanged(page)\r\n                        }}>\r\n                {page}\r\n            </span>\r\n                })}\r\n\r\n            {portionCount > portionNumber && <span\r\n                onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}\r\n                className={classes.paginationNext}\r\n            > next </span>}\r\n\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport classes from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow, ...props}) => {\r\n\r\n    return (\r\n        <div className={classes.Users}>\r\n          <span>\r\n            <div>\r\n              <div className={classes.imageContainer}>\r\n                <NavLink to={\"/profile/\" + user.id}>\r\n                  <img src={user.photos.small != null ? user.photos.small : \"https://bit.ly/2OnFLgf\"} alt=\"\"\r\n                       className={classes.userPhoto}/>\r\n                </NavLink>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              {user.followed\r\n                  ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                      unfollow(user.id)\r\n\r\n                  }}\r\n                            className={classes.unfollowBtn}>Unfollow</button>\r\n                  : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                      follow(user.id)\r\n                  }}\r\n                            className={classes.followBtn}>Follow</button>\r\n              }\r\n            </div>\r\n          </span>\r\n            <span>\r\n            <span>\r\n              <div>{user.name}</div>\r\n              <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n                <div>{\"user.location.country\"}</div>\r\n                <div>{\"user.location.city\"}</div>\r\n            </span>\r\n          </span>\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\n\r\nexport default User;","import React from 'react'\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nconst Users = ({currentPage, pageSize, totalItemsCount, onPageChanged, ...props}) => {\r\n    return (\r\n\r\n        <div>\r\n            <Paginator currentPage={currentPage}\r\n                       pageSize={pageSize}\r\n                       totalItemsCount={totalItemsCount}\r\n                       onPageChanged={onPageChanged}\r\n            />\r\n\r\n            {props.users.map((user) => <User key={user.id}\r\n                                             user={user}\r\n                                             followingInProgress={props.followingInProgress}\r\n                                             unfollow={props.unfollow}\r\n                                             follow={props.follow}\r\n            />)\r\n    }\r\n\r\n        </div>)\r\n};\r\n\r\n\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\n\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter(u => true)\r\n});\r\n\r\n\r\n\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n\r\n};\r\n\r\nexport const getTotalItemsCount = (state) => {\r\n  return state.usersPage.totalItemsCount;\r\n\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n\r\n  return state.usersPage.currentPage;\r\n\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\r\n  return state.usersPage.followingInProgress;\r\n\r\n};","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  follow,\r\n  requestUsers,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  unfollow\r\n} from \"../../redux/reducers/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalItemsCount,\r\n  getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n\r\n\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.requestUsers(pageNumber, this.props.pageSize);\r\n    this.props.setCurrentPage(pageNumber)\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <>\r\n        {/*{this.props.isFetching ? <Preloader /> : null}*/}\r\n        <Users\r\n          totalItemsCount={this.props.totalItemsCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          users={this.props.users}\r\n          unfollow={this.props.unfollow}\r\n          follow={this.props.follow}\r\n          onPageChanged={this.onPageChanged}\r\n          toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalItemsCount: getTotalItemsCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,{follow, unfollow, toggleFollowingProgress, requestUsers, setCurrentPage}),\r\n  //withAuthReirect\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport classes from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n  return (\r\n  <header className={classes.header}>\r\n    <img src=\"https://thumbs.gfycat.com/ShowyActiveAppaloosa-max-1mb.gif\" alt=\"\"/>\r\n\r\n    <div className={classes.headerRight}>\r\n\r\n    <div className={classes.loginBlock}>\r\n\r\n      {props.isAuth\r\n      ? <div>{props.login} <button onClick={props.logout} className={classes.logoutBtn}>Logout</button></div>\r\n      : <NavLink to={'/login'} className={classes.loginBtn}>Login</NavLink>\r\n      }\r\n\r\n\r\n    </div>\r\n\r\n    <p>Hall <span>Social Network</span></p>\r\n\r\n    </div>\r\n\r\n  </header>\r\n\r\n  )\r\n};\r\n\r\nexport default Header;","import {authAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'mySocial/auth/SET_USER_DATA';\r\n\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n\r\n};\r\n\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\n\r\n// Thunk Creator Get User\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\n\r\n// Thunk Creator Login\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n};\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/reducers/auth-reducer\";\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n  render() {\r\n  return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from 'react'\r\nimport classes from './Login.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/reducers/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n\r\n            <Field type=\"text\"\r\n                   component={Input}\r\n                   placeholder={\"Email\"}\r\n                   name={\"email\"}\r\n                   validate={[requiredField]}\r\n\r\n            />\r\n\r\n            <Field type=\"password\"\r\n                   component={Input}\r\n                   name={\"password\"}\r\n                   placeholder={\"Password\"}\r\n                   validate={[requiredField]}\r\n\r\n            />\r\n\r\n\r\n            <div>\r\n                <Field type=\"checkbox\" component=\"input\" name={\"rememberMe\"} className={classes.checkbox}/><span>Remember Me</span>\r\n            </div>\r\n\r\n            {error && <div className={classes.formSummaryError}>{error}</div>}\r\n\r\n            <button>Login</button>\r\n\r\n        </form>\r\n\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n        <div className={classes.Login}>\r\n            <h3>Login:</h3>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n\r\n};\r\n\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n\r\n// Thunk Creator Get User\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess());\r\n  })\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default appReducer;","\r\nconst initialState = {\r\n\r\n    friends: [\r\n      {id: 1, name: 'Dmitriy'},\r\n      {id: 2, name: 'Sergey'},\r\n      {id: 3, name: 'Anton'},\r\n    ]\r\n\r\n};\r\n\r\n\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n  return state;\r\n\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducers/profile-reducer\";\r\nimport dialogsReducer from \"./reducers/dialogs-reducer\";\r\nimport sidebarReducer from \"./reducers/sidebar-reducer\";\r\nimport usersReducer from \"./reducers/users-reducer\";\r\nimport authReducer from \"./reducers/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./reducers/app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n\r\n\r\nexport default store;\r\n","import React, {Component, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {HashRouter, BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/reducers/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport AvatarBtn from \"./components/AvatarBtn/AvatarBtn\";\nimport store from \"./redux/redux-store\";\n\n\nconst DialogsContainer = React.lazy(() => import(`./components/Dialogs/DialogsContainer`));\nconst ProfileContainer = React.lazy(() => import(`./components/Profile/ProfileContainer`));\n\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n\n    render() {\n\n        if (!this.props.initialized) {\n            return (<Preloader/>)\n        }\n\n        return (\n\n            <div className=\"app-wrapper\">\n\n                <Suspense fallback={<Preloader/>}>\n\n\n                    <HeaderContainer/>\n                    <Navbar store={this.props.store}/>\n\n\n                    <div className=\"app-wrapper-content\">\n\n                        <Route path=\"/profile/:userId?\"\n                               render={() => <ProfileContainer store={this.props.store}/>}/>\n                        <Route path=\"/dialogs\"\n                               render={() => <DialogsContainer store={this.props.store}/>}/>\n                        <Route path=\"/news\"\n                               render={() => <News/>}/>\n                        <Route path=\"/music\"\n                               render={() => <Music/>}/>\n                        <Route path=\"/settings\"\n                               render={() => <Settings/>}/>\n                        <Route path=\"/users\"\n                               render={() => <UsersContainer/>}/>\n                        <Route path=\"/login\"\n                               render={() => <Login/>}/>\n                        <Route path=\"/avatarbtn\"\n                               render={() => <AvatarBtn/>}/>\n                    </div>\n                </Suspense>\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\n// basename={process.env.PUBLIC_URL}\n\nconst SocialApp = (props) => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer store={store}/>\n        </Provider>\n    </HashRouter>\n\n};\n\nexport default SocialApp;","import React from 'react';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from \"./App\";\n\n\n\nReactDOM.render(<SocialApp />, document.getElementById('root'));\n\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"Users_Users__BZML7\",\"imageContainer\":\"Users_imageContainer__1C3c7\",\"userPhoto\":\"Users_userPhoto__3H3VV\",\"unfollowBtn\":\"Users_unfollowBtn__3z7Q5\",\"followBtn\":\"Users_followBtn__1RtnD\",\"getUsersBtn\":\"Users_getUsersBtn__3ERpK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3n6Xb\",\"headerRight\":\"Header_headerRight__2V2V-\",\"loginBlock\":\"Header_loginBlock__26sRQ\",\"loginBtn\":\"Header_loginBtn__1dWlj\",\"logoutBtn\":\"Header_logoutBtn__3J_2j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationWrapper\":\"Paginator_paginationWrapper__3HOWG\",\"activePage\":\"Paginator_activePage__sOdaC\",\"paginationPrev\":\"Paginator_paginationPrev__3eHk0\",\"paginationNext\":\"Paginator_paginationNext__nJi6B\"};","export const requiredField = (value) => {\r\n  if (value) return undefined;\r\n  return  \"Field is required\";\r\n\r\n};\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength ) return `Max Length is ${maxLength} Symbols`;\r\n  return undefined;\r\n\r\n};\r\n","import React from 'react'\r\nimport preloader from \"../../../assets/img/preloader.gif\";\r\nimport classes from \"./Preloader.module.css\"\r\n\r\nconst Preloader = (props) => {\r\n\r\n  return <div className={classes.Preloader}>\r\n          <img src={preloader} />\r\n         </div>\r\n};\r\n\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sidebar\":\"Sidebar_Sidebar__3M6Aq\",\"friendAvatar\":\"Sidebar_friendAvatar__3AyZg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__3Dd4k\",\"checkbox\":\"Login_checkbox__1KlnS\",\"formSummaryError\":\"Login_formSummaryError__2fhWg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textArea\":\"FormsControls_textArea__a22hm\",\"formControl\":\"FormsControls_formControl__1H1k6\",\"error\":\"FormsControls_error__1lAbK\"};","import React from 'react'\r\nimport classes from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {requiredField} from \"../../../utils/validators/validators\";\r\n\r\n\r\n\r\nconst FormControl = ({input, meta: {touched,error}, children}) => {\r\n  const hasError = touched && error;\r\n\r\n  return (\r\n    <div className={`${classes.formControl} ${hasError && classes.error}`} >\r\n      {children}\r\n      { hasError && <span>{error}</span> }\r\n    </div>\r\n\r\n\r\n  )\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, ...restProps} = props;\r\n   return <FormControl {...props}><textarea {...input} {...restProps} className={classes.textArea}/></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, ...restProps} = props;\r\n  return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const CreateField = (placeholder, name, validators, component   ) => (\r\n    <Field type=\"text\" placeholder={placeholder} name={name} validate={validators} component={component}\r\n    />\r\n);\r\n\r\n\r\n","import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthReirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n      return <Component {...this.props} />\r\n\r\n    }\r\n  }\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\r\n  return ConnectedAuthRedirectComponent\r\n\r\n};","import {profileAPI, usersAPI} from \"../../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\n\r\nlet initialState = {\r\n\r\n    posts: [\r\n        {likesCount: 15, message: 'Hi, How are you?', id: \"1\"},\r\n        {likesCount: 23, message: \"It's my first post\", id: \"2\"},\r\n        {likesCount: 56, message: \"The post in my social network\", id: \"3\"},\r\n\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\r\n    let stateCopy = {\r\n        ...state,\r\n        posts: [...state.posts]\r\n    };\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                likesCount: 0,\r\n                id: \"0\",\r\n                message: action.newPostBody,\r\n            };\r\n            stateCopy.posts.push(newPost);\r\n            stateCopy.newPostText = \"\";\r\n            return stateCopy;\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter((post) => post.id != action.postId)};\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile};\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const addPostActionCreator = (newPostBody) => ({type: ADD_POST, newPostBody});\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}